function setAjaxData(e=null){var t={sysLangId:VrConfig.sysLangId};return t[VrConfig.csrfTokenName]=$('meta[name="X-CSRF-TOKEN"]').attr("content"),null!=e&&Object.assign(t,e),t}function setSerializedData(e){return e.push({name:"sysLangId",value:VrConfig.sysLangId}),e.push({name:VrConfig.csrfTokenName,value:$('meta[name="X-CSRF-TOKEN"]').attr("content")}),e}jQuery.event.special.touchstart={setup:function(e,t,a){this.addEventListener("touchstart",a,{passive:!t.includes("noPreventDefault")})}},jQuery.event.special.touchmove={setup:function(e,t,a){this.addEventListener("touchmove",a,{passive:!t.includes("noPreventDefault")})}},function(){"use strict";var e=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(e).forEach((function(e){e.addEventListener("submit",(function(t){e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")}),!1)}))}();var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),tooltipList=tooltipTriggerList.map((function(e){return new bootstrap.Tooltip(e)}));function loadMorePosts(){$(".btn-load-more").prop("disabled",!0),$(".btn-load-more svg").hide(),$(".btn-load-more .spinner-load-more").show();var e={limit:parseInt($("#limit_load_more_posts").text()),view:"_post_item"};$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/loadMorePosts",data:setAjaxData(e),success:function(e){var t=JSON.parse(e);1==t.result?setTimeout((function(){$("#last_posts_content").append(t.htmlContent),$("#limit_load_more_posts").text(t.newLimit),$(".btn-load-more").prop("disabled",!1),$(".btn-load-more svg").show(),$(".btn-load-more .spinner-load-more").hide(),t.hideButton&&$(".btn-load-more").hide()}),300):setTimeout((function(){$(".btn-load-more").hide(),$(".btn-load-more svg").show(),$(".btn-load-more .spinner-load-more").hide()}),300)}})}function viewPollResults(e){$("#poll_"+e+" .question").hide(),$("#poll_"+e+" .result").show()}function viewPollOptions(e){$("#poll_"+e+" .result").hide(),$("#poll_"+e+" .question").show()}function addReaction(e,t){var a={post_id:e,reaction:t};$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/addReaction",data:setAjaxData(a),success:function(e){var t=JSON.parse(e);1==t.result&&(document.getElementById("reactions_result").innerHTML=t.htmlContent)}})}function loadMoreComments(e){var t=parseInt($("#post_comment_limit").val()),a={post_id:e,limit:t};$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/loadMoreComments",data:setAjaxData(a),success:function(e){var a=JSON.parse(e);1==a.result&&setTimeout((function(){$("#post_comment_limit").val(t+5),document.getElementById("comment-result").innerHTML=a.htmlContent}),500)}})}function addRemoveReadingListItem(e){$(".tooltip").hide();var t={post_id:e};$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/addRemoveReadingListItem",data:setAjaxData(t),success:function(e){location.reload()}})}function deleteComment(e,t,a){swal({text:a,icon:"warning",buttons:[VrConfig.textCancel,VrConfig.textOk],dangerMode:!0}).then((function(a){if(a){var n=parseInt($("#post_comment_limit").val()),o={id:e,post_id:t,limit:n};$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/deleteCommentPost",data:setAjaxData(o),success:function(e){var t=JSON.parse(e);1==t.result&&(document.getElementById("comment-result").innerHTML=t.htmlContent)}})}}))}function closeCookiesWarning(){$(".cookies-warning").hide(),$.ajax({type:"POST",url:VrConfig.baseURL+"/close-cookies-warning-post",data:setAjaxData({}),success:function(e){}})}function showImagePreview(e,t){var a=$(e).attr("data-img-id");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t?$("#"+a).css("background-image","url("+e.target.result+")"):$("#"+a).attr("src",e.target.result)},n.readAsDataURL(e.files[0])}}document.addEventListener("lazybeforeunveil",(function(e){var t=e.target.getAttribute("data-bg");t&&(e.target.style.backgroundImage="url("+t+")")})),$(document).on("click",".mobile-menu-button",(function(){$("#navMobile").hasClass("nav-mobile-open")?($("#navMobile").removeClass("nav-mobile-open"),$("#overlay_bg").hide()):($("#navMobile").addClass("nav-mobile-open"),$("#overlay_bg").show())})),$(document).on("click","#overlay_bg",(function(){$("#navMobile").removeClass("nav-mobile-open"),$("#overlay_bg").hide()})),$(".close-menu-click").click((function(){$("#navMobile").removeClass("nav-mobile-open"),$("#overlay_bg").hide()})),$(document).ready((function(){if($("form.needs-validation").attr("novalidate","novalidate"),$(".show-on-page-load").css("visibility","visible"),$(".nav-main .nav-item-category").hover((function(){var e=$(this).attr("data-category-id");$(".mega-menu").css("display","none"),$(".mega-menu .link-sub-category").removeClass("active"),$(".mega-menu .menu-category-items").removeClass("active"),$(".mega-menu .link-sub-category-all").addClass("active"),$(".mega-menu .menu-right .filter-all").addClass("active"),$(".mega-menu-"+e).css("display","flex")}),(function(){$(".mega-menu").css("display","none")})),$(".mega-menu").hover((function(){$(this).css("display","flex");var e=$(this).attr("data-category-id");$(".nav-main .nav-item-category-"+e).addClass("active")}),(function(){$(".mega-menu").css("display","none"),$(".nav-main .nav-item-category").removeClass("active")})),$(".mega-menu .link-sub-category").hover((function(){var e=$(this).attr("data-category-filter");$(".mega-menu .link-sub-category").removeClass("active"),$(this).addClass("active"),$(".mega-menu .menu-category-items").removeClass("active"),$(".mega-menu .menu-right .filter-"+e).addClass("active")}),(function(){})),$(".mobile-search-button").click((function(){$(".mobile-search-form").slideToggle(300)})),$("#main-slider").slick({autoplay:!0,autoplaySpeed:4900,slidesToShow:1,slidesToScroll:1,infinite:!0,speed:200,rtl:VrConfig.rtl,swipeToSlide:!0,cssEase:"linear",lazyLoad:"progressive",prevArrow:$("#main-slider-nav .prev"),nextArrow:$("#main-slider-nav .next")}),$("#post-detail-slider").slick({autoplay:!1,autoplaySpeed:4900,slidesToShow:1,slidesToScroll:1,infinite:!1,speed:200,rtl:VrConfig.rtl,adaptiveHeight:!0,lazyLoad:"progressive",prevArrow:$("#post-detail-slider-nav .prev"),nextArrow:$("#post-detail-slider-nav .next")}),$(".newsticker li").delay(500).fadeIn(100),$(".newsticker").newsTicker({row_height:30,max_rows:1,speed:400,direction:"up",duration:4e3,autostart:1,pauseOnHover:0,prevButton:$("#nav_newsticker .prev"),nextButton:$("#nav_newsticker .next")}),VrConfig.categorySliderIds.length>0)for(var e=0;e<VrConfig.categorySliderIds.length;e++){var t=VrConfig.categorySliderIds[e];$("#category_slider_"+t).slick({autoplay:!0,autoplaySpeed:4900,infinite:!0,speed:200,swipeToSlide:!0,rtl:VrConfig.rtl,cssEase:"linear",prevArrow:$("#category_slider_nav_"+t+" .prev"),nextArrow:$("#category_slider_nav_"+t+" .next"),slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:576,settings:{slidesToShow:1,slidesToScroll:1}}]})}$(window).scroll((function(){$(this).scrollTop()>100?$(".scrollup").fadeIn():$(".scrollup").fadeOut()})),$(".scrollup").click((function(){return $("html, body").animate({scrollTop:0},700),!1}))})),$(".search-icon").click((function(){$(".search-form").hasClass("open")?$(".search-form").removeClass("open"):$(".search-form").addClass("open")})),$(document).ready((function(){$("#form-login").submit((function(e){e.preventDefault();var t=$(this).serializeArray();t=setSerializedData(t),$.ajax({url:VrConfig.baseURL+"/AuthController/loginPost",type:"POST",data:t,success:function(e){var t=JSON.parse(e);1==t.result?location.reload():0==t.result&&(document.getElementById("result-login").innerHTML=t.error_message)}})})),$(".form-newsletter").submit((function(e){e.preventDefault();var t=$(this).attr("id"),a="#"+t+" .newsletter-input";if(""==$(a).val().trim())return $(a).addClass("has-error"),!1;$(a).removeClass("has-error");var n=$(this).serializeArray();n=setSerializedData(n),$.ajax({type:"POST",url:VrConfig.baseURL+"/add-newsletter-post",data:n,success:function(e){var n=JSON.parse(e);1==n.result&&("form_newsletter_footer"==t?document.getElementById("form_newsletter_response").innerHTML=n.htmlContent:document.getElementById("modal_newsletter_response").innerHTML=n.htmlContent,1==n.isSuccess&&$(a).val(""))}})}))})),$(document).ready((function(){$(".poll-form").submit((function(e){e.preventDefault();var t=$(this).attr("data-form-id"),a=$(this).serializeArray();a=setSerializedData(a),$.ajax({url:VrConfig.baseURL+"/AjaxController/addPollVote",type:"POST",data:a,success:function(e){var a=JSON.parse(e);1==a.result&&("required"==a.htmlContent?($("#poll-required-message-"+t).show(),$("#poll-error-message-"+t).hide()):"voted"==a.htmlContent?($("#poll-required-message-"+t).hide(),$("#poll-error-message-"+t).show()):(document.getElementById("poll-results-"+t).innerHTML=a.htmlContent,$("#poll_"+t+" .result").show(),$("#poll_"+t+" .question").hide()))}})})),$("#add_comment").submit((function(e){e.preventDefault();var t=$(this).serializeArray(),a={},n=!0;$(t).each((function(e,t){$.trim(t.value).length<1?($("#add_comment [name='"+t.name+"']").addClass("is-invalid"),n=!1):($("#add_comment [name='"+t.name+"']").removeClass("is-invalid"),a[t.name]=t.value)})),a.limit=$("#post_comment_limit").val(),1==VrConfig.isRecaptchaEnabled&&(void 0===a["g-recaptcha-response"]?($(".g-recaptcha").addClass("is-recaptcha-invalid"),n=!1):$(".g-recaptcha").removeClass("is-recaptcha-invalid")),1==n&&($(".g-recaptcha").removeClass("is-recaptcha-invalid"),$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/addCommentPost",data:setAjaxData(a),success:function(e){var t=JSON.parse(e);"message"==t.type?document.getElementById("message-comment-result").innerHTML=t.htmlContent:document.getElementById("comment-result").innerHTML=t.htmlContent,1==VrConfig.isRecaptchaEnabled&&grecaptcha.reset(),$("#add_comment")[0].reset()}}))})),$("#add_comment_registered").submit((function(e){e.preventDefault();var t=$(this).serializeArray(),a={limit:$("#post_comment_limit").val()},n=!0;$(t).each((function(e,t){$.trim(t.value).length<1?($("#add_comment_registered [name='"+t.name+"']").addClass("is-invalid"),n=!1):($("#add_comment_registered [name='"+t.name+"']").removeClass("is-invalid"),a[t.name]=t.value)})),a.limit=$("#post_comment_limit").val(),1==n&&$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/addCommentPost",data:setAjaxData(a),success:function(e){var t=JSON.parse(e);"message"==t.type?document.getElementById("message-comment-result").innerHTML=t.htmlContent:document.getElementById("comment-result").innerHTML=t.htmlContent,$("#add_comment_registered")[0].reset()}})}))})),$(document).on("click",".btn-subcomment",(function(){var e=$(this).attr("data-comment-id"),t={};t.limit=$("#post_comment_limit").val();var a="#add_subcomment_"+e;$(a).ajaxSubmit({beforeSubmit:function(){var n=$("#add_subcomment_"+e).serializeArray(),o=!0;if($(n).each((function(e,n){$.trim(n.value).length<1?($(a+" [name='"+n.name+"']").addClass("is-invalid"),o=!1):($(a+" [name='"+n.name+"']").removeClass("is-invalid"),t[n.name]=n.value)})),1==VrConfig.isRecaptchaEnabled&&(void 0===t["g-recaptcha-response"]?($(a+" .g-recaptcha").addClass("is-recaptcha-invalid"),o=!1):$(a+" .g-recaptcha").removeClass("is-recaptcha-invalid")),0==o)return!1},type:"POST",url:VrConfig.baseURL+"/AjaxController/addCommentPost",data:setAjaxData(t),success:function(t){1==VrConfig.isRecaptchaEnabled&&grecaptcha.reset();var a=JSON.parse(t);"message"==a.type?document.getElementById("message-subcomment-result-"+e).innerHTML=a.htmlContent:document.getElementById("comment-result").innerHTML=a.htmlContent,$(".visible-sub-comment form").empty()}})})),$(document).on("click",".btn-subcomment-registered",(function(){var e=$(this).attr("data-comment-id");$("#add_subcomment_registered_"+e).ajaxSubmit({beforeSubmit:function(){var t=$("#add_subcomment_registered_"+e).serializeArray();if($.trim(t[0].value).length<1)return $(".form-comment-text").addClass("is-invalid"),!1;$(".form-comment-text").removeClass("is-invalid")},type:"POST",url:VrConfig.baseURL+"/AjaxController/addCommentPost",data:setAjaxData({}),success:function(t){var a=JSON.parse(t);"message"==a.type?document.getElementById("message-subcomment-result-"+e).innerHTML=a.htmlContent:document.getElementById("comment-result").innerHTML=a.htmlContent,$(".visible-sub-comment form").empty()}})})),$(document).on("click",".comment-meta .btn-reply",(function(){$(".comment-meta .btn-reply").prop("disabled",!0);var e=$(this).attr("data-parent");if($("#sub_comment_form_"+e).html().length>0)$("#sub_comment_form_"+e).empty(),$(".comment-meta .btn-reply").prop("disabled",!1);else{$(".visible-sub-comment").empty();var t=parseInt($("#post_comment_limit").val()),a={comment_id:e,limit:t};$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/loadSubcommentBox",data:setAjaxData(a),success:function(t){var a=JSON.parse(t);1==a.result&&$("#sub_comment_form_"+e).append(a.htmlContent),$(".comment-meta .btn-reply").prop("disabled",!1)}})}})),$(document).on("click",".btn-comment-like",(function(){$(this).hasClass("comment-liked")?$(this).removeClass("comment-liked"):$(this).addClass("comment-liked");var e=$(this).attr("data-comment-id"),t={comment_id:e};$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/likeCommentPost",data:setAjaxData(t),success:function(t){var a=JSON.parse(t);1==a.result&&(document.getElementById("lbl_comment_like_count_"+e).innerHTML=a.likeCount)}})})),$(document).on("click",".btn-load-more",(function(){$(".btn-load-more svg").hide(),$(".btn-load-more .spinner-load-more").show()})),$("#print_post").on("click",(function(){$(".post-content .post-title, .post-content .post-image, .post-content .post-text").printThis({importCSS:!0})})),$(document).ajaxStop((function(){}));